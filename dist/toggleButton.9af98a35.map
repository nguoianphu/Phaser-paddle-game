{"version":3,"sources":["js/classes/ui/toggleButton.js"],"names":["ToggleButton","config","scene","back","add","image","backKey","onIcon","offIcon","Align","scaleToGameW","value","event","setIcons","setInteractive","on","toggle","x","y","setSize","displayWidth","displayHeight","existing","emitter","emit","visible","Phaser","GameObjects","Container"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAMA;;;;;AAEF,wBAAYC,MAAZ,EACA;AAAA;;AAAA;;AACI,sFAAMA,MAAM,CAACC,KAAb;AACA,UAAKA,KAAL,GAAaD,MAAM,CAACC,KAApB;AAEA,UAAKC,IAAL,GAAY,MAAKD,KAAL,CAAWE,GAAX,CAAeC,KAAf,CAAqB,CAArB,EAAwB,CAAxB,EAA2BJ,MAAM,CAACK,OAAlC,CAAZ;AACA,UAAKC,MAAL,GAAc,MAAKL,KAAL,CAAWE,GAAX,CAAeC,KAAf,CAAqB,CAArB,EAAwB,CAAxB,EAA2BJ,MAAM,CAACM,MAAlC,CAAd;AACA,UAAKC,OAAL,GAAe,MAAKN,KAAL,CAAWE,GAAX,CAAeC,KAAf,CAAqB,CAArB,EAAwB,CAAxB,EAA2BJ,MAAM,CAACO,OAAlC,CAAf;AAEAC,IAAAA,KAAK,CAACC,YAAN,CAAmB,MAAKP,IAAxB,EAA8B,EAA9B;AACAM,IAAAA,KAAK,CAACC,YAAN,CAAmB,MAAKH,MAAxB,EAAgC,GAAhC;AACAE,IAAAA,KAAK,CAACC,YAAN,CAAmB,MAAKF,OAAxB,EAAiC,GAAjC;;AAEA,UAAKJ,GAAL,CAAS,MAAKD,IAAd;;AACA,UAAKC,GAAL,CAAS,MAAKG,MAAd;;AACA,UAAKH,GAAL,CAAS,MAAKI,OAAd;;AAEA,QAAI,CAACP,MAAM,CAACU,KAAZ,EACA;AACIV,MAAAA,MAAM,CAACU,KAAP,GAAe,IAAf;AACH;;AAED,UAAKA,KAAL,GAAaV,MAAM,CAACU,KAApB;;AAEA,QAAIV,MAAM,CAACW,KAAX,EACA;AACI,YAAKA,KAAL,GAAaX,MAAM,CAACW,KAApB;AACH;;AAED,UAAKC,QAAL;;AAEA,UAAKV,IAAL,CAAUW,cAAV;;AACA,UAAKX,IAAL,CAAUY,EAAV,CAAa,aAAb,EAA4B,MAAKC,MAAjC;;AAEA,QAAIf,MAAM,CAACgB,CAAX,EACA;AACI,YAAKA,CAAL,GAAShB,MAAM,CAACgB,CAAhB;AACH;;AACD,QAAIhB,MAAM,CAACiB,CAAX,EACA;AACI,YAAKA,CAAL,GAASjB,MAAM,CAACiB,CAAhB;AACH;;AAED,UAAKC,OAAL,CAAa,MAAKhB,IAAL,CAAUiB,YAAvB,EAAqC,MAAKjB,IAAL,CAAUkB,aAA/C;;AACA,UAAKnB,KAAL,CAAWE,GAAX,CAAekB,QAAf;;AA3CJ;AA4CC;;;;6BAGD;AACI,WAAKX,KAAL,GAAa,CAAC,KAAKA,KAAnB;AACA,WAAKE,QAAL;;AACA,UAAI,KAAKD,KAAT,EACA;AACIW,QAAAA,OAAO,CAACC,IAAR,CAAa,KAAKZ,KAAlB,EAAyB,KAAKD,KAA9B;AACH;AACJ;;;+BAGD;AACI,UAAI,KAAKA,KAAL,IAAc,IAAlB,EACA;AACI,aAAKJ,MAAL,CAAYkB,OAAZ,GAAsB,IAAtB;AACA,aAAKjB,OAAL,CAAaiB,OAAb,GAAuB,KAAvB;AACH,OAJD,MAMA;AACI,aAAKlB,MAAL,CAAYkB,OAAZ,GAAsB,KAAtB;AACA,aAAKjB,OAAL,CAAaiB,OAAb,GAAuB,IAAvB;AACH;AACJ;;;;EAvEsBC,MAAM,CAACC,WAAP,CAAmBC","file":"toggleButton.9af98a35.map","sourceRoot":"..","sourcesContent":["class ToggleButton extends Phaser.GameObjects.Container\r\n{\r\n    constructor(config) \r\n    {\r\n        super(config.scene);\r\n        this.scene = config.scene;\r\n        \r\n        this.back = this.scene.add.image(0, 0, config.backKey);\r\n        this.onIcon = this.scene.add.image(0, 0, config.onIcon);\r\n        this.offIcon = this.scene.add.image(0, 0, config.offIcon);\r\n\r\n        Align.scaleToGameW(this.back, .1);\r\n        Align.scaleToGameW(this.onIcon, .05);\r\n        Align.scaleToGameW(this.offIcon, .05);\r\n\r\n        this.add(this.back);\r\n        this.add(this.onIcon);\r\n        this.add(this.offIcon);\r\n\r\n        if (!config.value)\r\n        {\r\n            config.value = true;\r\n        }\r\n\r\n        this.value = config.value;\r\n\r\n        if (config.event)\r\n        {\r\n            this.event = config.event;\r\n        }\r\n\r\n        this.setIcons();\r\n\r\n        this.back.setInteractive();\r\n        this.back.on('pointerdown', this.toggle, this);\r\n\r\n        if (config.x)\r\n        {\r\n            this.x = config.x;\r\n        }\r\n        if (config.y)\r\n        {\r\n            this.y = config.y;\r\n        }\r\n\r\n        this.setSize(this.back.displayWidth, this.back.displayHeight);\r\n        this.scene.add.existing(this);\r\n    }\r\n\r\n    toggle()\r\n    {\r\n        this.value = !this.value;\r\n        this.setIcons();\r\n        if (this.event)\r\n        {\r\n            emitter.emit(this.event, this.value);\r\n        }\r\n    }\r\n\r\n    setIcons()\r\n    {\r\n        if (this.value == true)\r\n        {\r\n            this.onIcon.visible = true;\r\n            this.offIcon.visible = false;\r\n        }\r\n        else\r\n        {            \r\n            this.onIcon.visible = false;\r\n            this.offIcon.visible = true;\r\n        }\r\n    }\r\n}"]}